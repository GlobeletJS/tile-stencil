<html>
  <head>
    <title>tile-stencil</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/svg+xml" href="./apple.svg">
  </head>

  <body>
    <label for="stylehref">URL to your
      <a href="https://maplibre.org/maplibre-gl-js-docs/style-spec/">MapLibre Style</a>
      </label>
    <br>
    <input type="text" placeholder="https://..." id="stylehref">
    <button id="sendStyle">Load Style</button>

    <p>Error messages:</p>
    <pre id="errors"></pre>

    <p>See the parsed JSON here:</p>
    <pre id="styleDisplay"></pre>
  </body>

  <script type="module">
    import { loadStyle } from "../../dist/tile-stencil.js";

    const styleInput = document.getElementById("stylehref");
    const errors = document.getElementById("errors");
    const styleDisplay = document.getElementById("styleDisplay");

    document.getElementById("sendStyle")
      .addEventListener('click', getStyle, false);
    
    function getStyle() {
      loadStyle(styleInput.value).then(doc => {
        styleDisplay.innerHTML = JSON.stringify(doc, null, 2);
      }).catch(err => {
        errors.innerHTML = err.statusText;
      });
    }
  </script>
</html>
